@model List<WithCodesBlog.Web.UI.Areas.Admin.ViewModels.AssignRoleViewModel>
@{
    ViewData["Title"] = "AssignRole";
    Layout = "~/Areas/Admin/Views/Shared/_Layout.cshtml";
}


<div class="modal fade" id="editModal_RoleId" tabindex="-1" role="dialog" aria-labelledby="editModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <form asp-controller="Author" asp-action="AssignRole" method="post">
                <div class="modal-header">
                    <h5 class="modal-title" id="editModalLabel">Yetki Düzenleme</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th class="text-center">Rol Adı</th>
                                    <th class="text-center">Atandı mı?</th>
                                </tr>
                            </thead>
                            <tbody>
                                @for (int i = 0; i < Model.Count; i++)
                                {
                                    <tr>
                                        <td class="text-center"><label class="form-check-label" for="@Model[i].Exists">@Model[i].RoleName</label></td>
                                        <td class="text-center">
                                            <input type="hidden" asp-for="@Model[i].RoleId" />
                                            <input type="hidden" asp-for="@Model[i].RoleName" />
                                            <input type="checkbox" asp-for="@Model[i].Exists" class="form-check-input" />
                                        </td>
                                    </tr>


                                }
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Kapat</button>
                    <button type="submit" class="btn btn-outline-primary">Kaydet</button>
                </div>
            </form>
        </div>
    </div>
</div>



@section Scripts
    {
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <script>
        $('#editModal_RoleId').on('hidden.bs.modal', function (e) {
            window.location.href = '/Admin/Author/';
        });
    </script>
    <script>
        $(function () {
            console.log("Betiğin yürütülmesi tamamlandı");
            $('#editModal_RoleId').modal('show');
        });
    </script>
}

